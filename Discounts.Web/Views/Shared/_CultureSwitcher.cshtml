@using Microsoft.AspNetCore.Localization
@{
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    var currentCulture = requestCulture?.RequestCulture.UICulture.Name ?? "ka";
    var returnUrl = $"{Context.Request.Path}{Context.Request.QueryString}";
}

<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" role="button"
       data-bs-toggle="dropdown" aria-expanded="false">
        <i class="fas fa-globe"></i>
        @(currentCulture == "ka" ? "áƒ¥áƒáƒ áƒ—" : "ENG")
    </a>
    <ul class="dropdown-menu dropdown-menu-end">
        <li>
            <form asp-controller="Culture" asp-action="SetLanguage" method="post">
                <input type="hidden" name="culture" value="ka" />
                <input type="hidden" name="returnUrl" value="@returnUrl" />
                <button type="submit" class="dropdown-item @(currentCulture == "ka" ? "active" : "")">
                    ğŸ‡¬ğŸ‡ª áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜
                </button>
            </form>
        </li>
        <li>
            <form asp-controller="Culture" asp-action="SetLanguage" method="post">
                <input type="hidden" name="culture" value="en" />
                <input type="hidden" name="returnUrl" value="@returnUrl" />
                <button type="submit" class="dropdown-item @(currentCulture == "en" ? "active" : "")">
                    ğŸ‡¬ğŸ‡§ English
                </button>
            </form>
        </li>
    </ul>
</li>
